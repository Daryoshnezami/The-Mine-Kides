
<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-WJ1QDVBHQ3"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-WJ1QDVBHQ3');
    </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Mini Kids üåà</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@700&display=swap" rel="stylesheet">
<style>
     /* index.html - Responsive CSS */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: 'Raleway', Arial, sans-serif;
  color: #333;
  line-height: 1.6;
  overflow-x: hidden;
}

/* Top Bar */
.header-container {
            display: flex;
            align-items: center;
            justify-content: space-between;
            width: 100%;
            padding: 0.5rem;
            flex-wrap: wrap;
            position: relative;
        }

        /* Navigation link styling */
        .nav-menu {
            display: flex;
            list-style-type: none;
            padding: 0.5rem;
            margin: 0 auto;
            z-index: 100;
            background-color: rgba(255, 255, 255, 0.2);
            border-radius: 30px;
            backdrop-filter: blur(5px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            flex-wrap: wrap;
            justify-content: center;
            gap: 0.5rem;
            position: relative;
            left: 700px;
            width: auto;
        }

        .nav-link {
            margin: 0 5px;
            position: relative;
            transition: all 0.3s ease;
        }

        .nav-link a {
            color: white;
            text-decoration: none;
            font-size: 1.1rem;
            font-weight: bold;
            display: flex;
            align-items: center;
            padding: 8px 15px;
            border-radius: 20px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            z-index: 1;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
            margin: 0 10px;
        }

        .nav-link a:before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 0;
            height: 100%;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 20px;
            transition: all 0.3s ease;
            z-index: -1;
        }

        .nav-link a:hover:before {
            width: 100%;
        }

        .nav-link a:hover {
            transform: translateY(-3px);
            color: white;
        }

        /* Add icons to the navigation links */
        .nav-link:first-child a:after {
            content: " üè†";
            margin-left: 5px;
        }

        .nav-link:nth-child(2) a:after {
            content: " üìÖ";
            margin-left: 5px;
        }

        .nav-link:nth-child(3) a:after {
            content: " üéØ";
            margin-left: 5px;
        }

        /* Active link state */
        .nav-link.active a {
            background: rgba(255, 255, 255, 0.3);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        /* Mobile Menu styles */
        .menu-button {
            display: none;
            background-color: rgba(255, 255, 255, 0.2);
            color: white;
            border: none;
            border-radius: 30px;
            padding: 8px 20px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            align-items: center;
            justify-content: center;
            gap: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(5px);
            transition: all 0.3s ease;
            position: relative;
            z-index: 101;
        }

        .menu-button:hover {
            background-color: rgba(255, 255, 255, 0.3);
        }

        .menu-button-text {
            margin-right: 5px;
        }

        .hamburger {
            display: inline-block;
            width: 20px;
            height: 16px;
            position: relative;
        }

        .hamburger span {
            display: block;
            position: absolute;
            height: 3px;
            width: 100%;
            background: white;
            border-radius: 3px;
            opacity: 1;
            left: 0;
            transform: rotate(0deg);
            transition: .25s ease-in-out;
        }

        .logo-container {
            height: 100px;
            width: auto;
            display: flex;
            align-items: center;
            justify-content: center;
            filter: drop-shadow(0 3px 6px rgba(0, 0, 0, 0.2));
            position: relative;
            right: 1050px;
            margin: 0 auto;

        }

        .site-logo {
            height: 100%;
            width: auto;
            object-fit: contain;
            max-width: 100%;
        }

        .hamburger span:nth-child(1) {
            top: 0px;
        }

        .hamburger span:nth-child(2) {
            top: 7px;
        }

        .hamburger span:nth-child(3) {
            top: 14px;
        }

        .menu-open .hamburger span:nth-child(1) {
            top: 7px;
            transform: rotate(135deg);
        }

        .menu-open .hamburger span:nth-child(2) {
            opacity: 0;
            left: -60px;
        }

        .menu-open .hamburger span:nth-child(3) {
            top: 7px;
            transform: rotate(-135deg);
        }

        .dropdown-menu {
            display: none;
            position: absolute;
            top: 60px;
            left: 0;
            right: 0;
            background-color: rgba(255, 255, 255, 0.9);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
            border-radius: 15px;
            padding: 1rem;
            z-index: 100;
            flex-direction: column;
            margin: 0 auto;
            width: 80%;
            max-width: 300px;
            animation: fadeDown 0.3s forwards;
            align-items: center;
        }

        .dropdown-logo {
            width: 120px;
            height: auto;
            margin-bottom: 15px;
            filter: drop-shadow(0 2px 5px rgba(0, 0, 0, 0.1));
            transition: transform 0.3s ease;
        }

        .dropdown-logo:hover {
            transform: scale(1.05);
        }

        @keyframes fadeDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .dropdown-menu .nav-link {
            margin: 8px 0;
            width: 100%;
        }

        .dropdown-menu .nav-link a {
            color: #333;
            width: 100%;
            justify-content: center;
            border-radius: 10px;
            background-color: rgba(255, 255, 255, 0.5);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            padding: 10px;
            text-shadow: none;
        }

        .dropdown-menu .nav-link a:before {
            display: none;
        }

        .dropdown-menu .nav-link a:hover {
            background-color: rgba(255, 255, 255, 0.8);
            transform: translateY(-2px);
        }

        /* Responsive Design */

@media (max-width: 1024px) {
  .nav-menu {
    left: 0;
    width: 100%;
    flex-direction: column;
    gap: 10px;
  }

  .navbar ul {
    right: 0;
    justify-content: center;
  }

  .logo-container {
    right: 0;
  }

  table {
    width: 95%;
  }

  #signatureCanvas {
    width: 100%;
    height: auto;
  }
}

@media (max-width: 768px) {
  .navbar {
    flex-direction: column;
    align-items: flex-start;
    padding: 15px;
  }

  .navbar h2 {
    font-size: 1.2rem;
  }

  .nav-menu {
    flex-direction: column;
    width: 100%;
    left: 0;
  }

  .header-container {
    flex-direction: column;
    align-items: center;
  }

  .logo-container {
    justify-content: center;
    margin: 10px auto;
  }

  table, th, td {
    font-size: 0.9rem;
    padding: 10px;
  }

  #crescentMoon,
  #mosqueIcon {
    font-size: 2rem;
  }

  #signatureCanvas {
    width: 100%;
    height: 200px;
  }
}

@media (max-width: 480px) {
  .navbar h2 {
    font-size: 1rem;
  }

  .nav-link a {
    font-size: 0.9rem;
    padding: 6px 12px;
  }

  table, th, td {
    font-size: 0.8rem;
    padding: 8px;
  }

  #signatureCanvas {
    height: 150px;
  }

  .menu-button {
    display: flex;
  }

  .nav-menu {
    display: none;
  }

  .dropdown-menu {
    display: flex;
  }
}

.contact-item {
  display: flex;
  align-items: center;
  gap: 5px;
  white-space: nowrap;
}

.contact-item i {
  color: #F28C28;
}

.social-icons a {
  color: white;
  font-size: 14px;
  text-decoration: none;
  transition: color 0.3s ease;
}

.social-icons a:hover {
  color: #F28C28;
}

/* Navbar */
.navbar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px 5%;
  background-color: #ffffff;
  border-bottom: 1px solid #ddd;
  height: auto;
  position: sticky;
  top: 0;
  z-index: 1000;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

.logo img {
  height: 50px;
  width: auto;
}

.nav-links {
  display: none;
  position: absolute;
  top: 100%;
  left: 0;
  width: 100%;
  background: white;
  flex-direction: column;
  gap: 0;
  list-style: none;
  padding: 0;
  margin: 0;
  box-shadow: 0 5px 10px rgba(0,0,0,0.1);
}

.nav-links.active {
  display: flex;
}

.nav-links li {
  width: 100%;
  text-align: center;
  border-bottom: 1px solid #eee;
}

.nav-links li a {
  display: block;
  text-decoration: none;
  color: #333;
  font-weight: bold;
  padding: 15px;
  transition: all 0.3s ease;
}

.nav-links li a:hover {
  color: #f26528f7;
  background: rgba(242, 140, 40, 0.1);
}

.menu-toggle {
  display: block;
  cursor: pointer;
  font-size: 24px;
  color: #333;
}

.contact-button {
  background: #333;
  color: white;
  padding: 8px 15px;
  border: none;
  border-radius: 3px;
  text-decoration: none;
  font-size: 14px;
  font-weight: bold;
  transition: background 0.3s ease;
  white-space: nowrap;
}

.contact-button:hover {
  background: #f26528f7;
}

/* Hero Section */
.container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 40px 5%;
  background-image: url('dark-grey-background-8oivip4edc9kb0iw.jpg');
  background-size: cover;
  background-position: center;
  min-height: 80vh;
  width: 100%;
}

.text-content {
  max-width: 100%;
  text-align: center;
  margin-bottom: 40px;
  color: white;
}

.text-content h1 {
  font-size: 2.5rem;
  line-height: 1.2;
  margin-bottom: 20px;
}

.text-content h1 span {
  color: #F28C28;
  font-style: italic;
}

.text-content p {
  margin: 20px 0;
  font-size: 1rem;
  color: #ccc;
}

.buttons {
  display: flex;
  justify-content: center;
  gap: 15px;
  margin-top: 20px;
}

.button {
  display: inline-block;
  padding: 12px 25px;
  border: 2px solid #F28C28;
  background: none;
  color: #fff;
  text-decoration: none;
  border-radius: 5px;
  font-size: 1rem;
  transition: all 0.3s ease;
}

.button:hover {
  background: #F28C28;
  color: #fff;
}

.play-button {
  width: 50px;
  height: 50px;
  display: flex;
  justify-content: center;
  align-items: center;
  border: 2px solid #fff;
  border-radius: 50%;
  background: none;
  color: #fff;
  font-size: 1.2rem;
  transition: all 0.3s ease;
}

.play-button:hover {
  background: #fff;
  color: #f26528f7;
}

.image-content img {
  max-width: 100%;
  height: auto;
  border-radius: 5px;
}

/* Services Section */
.services-section {
  text-align: center;
  padding: 50px 5%;
  background: #f8f8f8;
}

.services-section h2 {
  font-size: 2rem;
  margin-bottom: 15px;
  color: #333;
}

.services-section h2 span {
  color: #F28C28;
}

.services-section p {
  font-size: 1rem;
  color: #666;
  max-width: 600px;
  margin: 0 auto 30px;
}

.services-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 20px;
  justify-content: center;
}

.service-card {
  background: white;
  border-radius: 10px;
  padding: 25px;
  color: #333;
  text-align: left;
  box-shadow: 0 5px 15px rgba(0,0,0,0.1);
  transition: transform 0.3s ease;
}

.service-card:hover {
  transform: translateY(-5px);
}

.service-card h3 {
  font-size: 1.3rem;
  margin: 15px 0;
  color: #333;
}

.service-card p {
  font-size: 0.9rem;
  line-height: 1.6;
  color: #666;
  margin-bottom: 15px;
}

.service-card a {
  display: inline-block;
  margin-top: 15px;
  color: #F28C28;
  text-decoration: none;
  font-weight: bold;
  transition: color 0.3s ease;
}

.service-card a:hover {
  color: #f26528f7;
  text-decoration: underline;
}

.service-card .icon {
  font-size: 2.5rem;
  color: #F28C28;
}

/* Progress Section */
.progress-section {
  padding: 60px 5%;
  background: #2b2b2b;
  color: white;
  text-align: center;
  position: relative;
}

.progress-section img {
  max-width: 100%;
  height: auto;
  margin-bottom: 30px;
}

.progress-section h1 {
  font-size: 2rem;
  margin-bottom: 30px;
}

.progress-section h1 span {
  color: #F28C28;
}

.progress-group {
  margin-bottom: 25px;
  text-align: left;
}

.label {
  display: flex;
  justify-content: space-between;
  margin-bottom: 10px;
  font-size: 1rem;
}

.progress-container {
  width: 100%;
  background-color: #444;
  border-radius: 5px;
  height: 10px;
}

.progress-bar {
  height: 100%;
  background-color: #F28C28;
  width: 0;
  transition: width 3s ease-in-out;
  border-radius: 5px;
}

/* Contact Form Section */
.contact-form-section {
  padding: 60px 5%;
  background: #f8f8f8;
  display: flex;
  justify-content: center;
}

.contact-form-container {
  background: white;
  border-radius: 10px;
  width: 100%;
  max-width: 900px;
  box-shadow: 0 5px 15px rgba(0,0,0,0.1);
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

.left-section, .right-section {
  padding: 30px;
}

.left-section {
  background: linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.7)), url('m6.jpg');
  background-size: cover;
  background-position: center;
  color: white;
}

.left-section h1 {
  font-size: 1.8rem;
  margin-bottom: 20px;
}

.left-section h1 span {
  color: #F28C28;
}

.left-section p {
  margin: 20px 0;
  line-height: 1.6;
}

.left-section a {
  color: #fff;
  text-decoration: none;
  border-bottom: 1px solid #fff;
  transition: all 0.3s;
  display: inline-block;
  margin-top: 15px;
}

.left-section a:hover {
  color: #F28C28;
  border-bottom: 1px solid #F28C28;
}

.form-group {
  margin-bottom: 20px;
}

.form-group label {
  display: block;
  margin-bottom: 8px;
  font-weight: bold;
  color: #333;
}

.form-group input,
.form-group textarea {
  width: 100%;
  padding: 12px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 16px;
  transition: border 0.3s ease;
}

.form-group input:focus,
.form-group textarea:focus {
  outline: none;
  border-color: #F28C28;
}

.form-group textarea {
  resize: vertical;
  min-height: 100px;
}

.submit-button {
  background-color: #F28C28;
  color: #fff;
  padding: 12px 25px;
  border: none;
  border-radius: 4px;
  font-size: 16px;
  cursor: pointer;
  transition: background-color 0.3s;
  width: 100%;
}

.submit-button:hover {
  background-color: #f26528f7;
}

/* FAQ Section */
.faq-section {
  padding: 60px 5%;
  background: white;
  display: flex;
  flex-direction: column;
}

.faq-left {
  width: 100%;
  margin-bottom: 30px;
}

.faq-item {
  margin-bottom: 15px;
}

.faq-button {
  width: 100%;
  padding: 15px;
  font-size: 16px;
  background: #f8f8f8;
  color: #333;
  text-align: left;
  border: none;
  cursor: pointer;
  display: flex;
  justify-content: space-between;
  align-items: center;
  transition: all 0.3s ease;
}

.faq-button:hover {
  background: #eee;
}

.faq-right {
  width: 100%;
  text-align: center;
}

.faq-right h2 {
  color: #F28C28;
  font-size: 1rem;
  margin-bottom: 10px;
}

.faq-right h3 {
  font-size: 1.8rem;
  margin: 10px 0 20px;
  color: #333;
}

.faq-right .priority {
  color: #F28C28;
}

.faq-right p {
  font-size: 1rem;
  color: #666;
  line-height: 1.6;
  margin-bottom: 20px;
}

.learn-more-button {
  display: inline-block;
  padding: 12px 25px;
  border: 2px solid #F28C28;
  color: #F28C28;
  text-decoration: none;
  border-radius: 5px;
  font-weight: bold;
  transition: all 0.3s ease;
  margin-bottom: 20px;
}

.learn-more-button:hover {
  background: #F28C28;
  color: white;
}

.social-icons {
  display: flex;
  justify-content: center;
  gap: 15px;
  margin-top: 20px;
}

.social-icons a {
  color: #F28C28;
  font-size: 20px;
  transition: color 0.3s ease;
}

.social-icons a:hover {
  color: #f26528f7;
}

/* Team Section */
.team-section {
  text-align: center;
  padding: 60px 5%;
  background: #f8f8f8;
}

.team-section h1 {
  font-size: 2rem;
  margin-bottom: 15px;
  color: #333;
}

.team-section h1 span {
  color: #F28C28;
}

.team-section p {
  font-size: 1rem;
  color: #666;
  max-width: 600px;
  margin: 0 auto 40px;
}

.team-container {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 20px;
  justify-content: center;
}

.team-member {
  background: white;
  border-radius: 8px;
  padding: 20px;
  text-align: center;
  box-shadow: 0 5px 15px rgba(0,0,0,0.1);
  transition: transform 0.3s ease;
}

.team-member:hover {
  transform: translateY(-5px);
}

.team-member img {
  width: 100%;
  height: 250px;
  object-fit: cover;
  border-radius: 5px;
  margin-bottom: 15px;
}

.team-member h3 {
  font-size: 1.2rem;
  margin: 10px 0 5px;
  color: #F28C28;
}

.team-member p {
  font-size: 0.9rem;
  margin: 0 0 15px;
  color: #666;
}

.team-member .social-icons {
  margin-top: 15px;
}

/* Testimonial Section */
.testimonial-section {
  padding: 60px 5%;
  background: linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.7)), url('m9.jpg');
  background-size: cover;
  background-position: center;
  text-align: center;
  color: white;
}

.testimonial-section h2 {
  font-size: 2rem;
  margin-bottom: 15px;
}

.testimonial-section h2 span {
  color: #F28C28;
}

.testimonial-section p {
  max-width: 600px;
  margin: 0 auto 30px;
  font-size: 1rem;
  color: #ccc;
}

.testimonial-section a {
  color: #F28C28;
  text-decoration: none;
  font-weight: bold;
  display: inline-block;
  margin-bottom: 30px;
}

.testimonial-section a:hover {
  text-decoration: underline;
}

.testimonial-cards {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 20px;
  justify-content: center;
}

.testimonial-card {
  background: rgba(255,255,255,0.1);
  border-radius: 10px;
  padding: 20px;
  backdrop-filter: blur(10px);
  text-align: left;
  transition: transform 0.3s ease;
}

.testimonial-card:hover {
  transform: translateY(-5px);
}

.testimonial-card .stars {
  color: #ffd700;
  margin-bottom: 10px;
}

.testimonial-card .quote {
  font-size: 24px;
  color: #F28C28;
  margin-right: 10px;
}

.testimonial-card p {
  color: #eee;
  font-size: 0.9rem;
  margin-bottom: 15px;
}

.testimonial-card .profile {
  display: flex;
  align-items: center;
}

.testimonial-card img {
  width: 50px;
  height: 50px;
  border-radius: 50%;
  margin-right: 10px;
  object-fit: cover;
}

.testimonial-card .profile-info {
  color: #fff;
}

.testimonial-card .profile-info h4 {
  margin: 0;
  font-size: 1rem;
}

.testimonial-card .profile-info p {
  margin: 0;
  font-size: 0.8rem;
  color: #bbb;
}

/* Footer */
.footer {
  background: #111;
  padding: 50px 5%;
}

.footer-container {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 30px;
  max-width: 1200px;
  margin: 0 auto;
}

.footer-column h3 {
  font-size: 1.1rem;
  margin-bottom: 15px;
  color: #fff;
}

.footer-column p {
  font-size: 0.9rem;
  line-height: 1.6;
  color: #bbb;
  margin-bottom: 15px;
}

.footer-column ul {
  list-style: none;
  padding: 0;
}

.footer-column ul li {
  margin-bottom: 10px;
}

.footer-column ul li a {
  color: #bbb;
  text-decoration: none;
  font-size: 0.9rem;
  transition: color 0.3s ease;
}

.footer-column ul li a:hover {
  color: #F28C28;
}

.footer-column .social-icons {
  display: flex;
  gap: 15px;
  margin-top: 15px;
}

.footer-column .social-icons a {
  color: #fff;
  font-size: 18px;
  text-decoration: none;
  transition: color 0.3s ease;
}

.footer-column .social-icons a:hover {
  color: #F28C28;
}

.call-to-action {
  text-align: center;
  margin-top: 20px;
}

.call-to-action p {
  font-size: 0.9rem;
  margin-bottom: 10px;
  color: #bbb;
}

.call-to-action button {
  background: none;
  border: 1px solid #F28C28;
  color: #F28C28;
  padding: 10px 20px;
  border-radius: 5px;
  cursor: pointer;
  font-size: 0.9rem;
  transition: all 0.3s ease;
}

.call-to-action button:hover {
  background: #F28C28;
  color: #111;
}

.footer-bottom {
  text-align: center;
  margin-top: 30px;
  padding-top: 20px;
  border-top: 1px solid #333;
  font-size: 0.8rem;
  color: #bbb;
}

.footer-logo img {
  height: 50px;
  margin-bottom: 15px;
}

.footer-column .icon {
  color: #F28C28;
  margin-right: 8px;
}

/* Chat Button */
.chat-button {
  position: fixed;
  bottom: 20px;
  right: 20px;
  background-color: #25d366;
  color: white;
  border: none;
  border-radius: 50%;
  width: 60px;
  height: 60px;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
  cursor: pointer;
  z-index: 1000;
  transition: transform 0.3s ease;
}

.chat-button:hover {
  transform: scale(1.1);
}

.chat-button img {
  width: 30px;
}

.chat-popup {
  position: fixed;
  bottom: 90px;
  right: 20px;
  width: 90%;
  max-width: 300px;
  background-color: #fff;
  border: 1px solid #ccc;
  border-radius: 10px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
  display: none;
  flex-direction: column;
  z-index: 1000;
}

.chat-header {
  background-color: #25d366;
  color: #000;
  padding: 10px;
  text-align: center;
  border-top-left-radius: 10px;
  border-top-right-radius: 10px;
  font-weight: bold;
}

.chat-messages {
  padding: 10px;
  max-height: 200px;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.message {
  padding: 8px 12px;
  border-radius: 5px;
  max-width: 80%;
  font-size: 0.9rem;
}

.message.user {
  background-color: #000;
  color: white;
  align-self: flex-end;
}

.message.bot {
  background-color: #f0f0f0;
  color: #333;
  align-self: flex-start;
}

.chat-input {
  display: flex;
  border-top: 1px solid #ddd;
}

.chat-input input {
  flex: 1;
  padding: 10px;
  border: none;
  outline: none;
  border-bottom-left-radius: 10px;
  font-size: 0.9rem;
}

.chat-input button {
  background-color: #25d366;
  color: white;
  border: none;
  padding: 0 15px;
  cursor: pointer;
  border-bottom-right-radius: 10px;
  transition: background-color 0.3s;
}

.chat-input button:hover {
  background-color: #1da354;
}

/* Preloader */
#preloader {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: #fff;
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 9999;
  transition: opacity 0.5s ease;
}

.loader {
  width: 50px;
  height: 50px;
  border: 5px solid #F28C28;
  border-top: 5px solid transparent;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* Responsive Breakpoints */
@media (min-width: 768px) {
  .top-bar {
    padding: 10px 5%;
    font-size: 14px;
    height: 50px;
    flex-wrap: nowrap;
  }
  
  .menu-toggle {
    display: none;
  }
  
  .nav-links {
    display: flex;
    position: static;
    flex-direction: row;
    width: auto;
    background: transparent;
    box-shadow: none;
    gap: 20px;
  }
  
  .nav-links li {
    width: auto;
    border-bottom: none;
  }
  
  .nav-links li a {
    padding: 0;
  }
  
  .container {
    flex-direction: row;
    text-align: left;
    padding: 80px 5%;
  }
  
  .text-content {
    max-width: 50%;
    margin-bottom: 0;
    text-align: left;
  }
  
  .buttons {
    justify-content: flex-start;
  }
  
  .contact-form-container {
    flex-direction: row;
  }
  
  .left-section, .right-section {
    flex: 1;
  }
  
  .faq-section {
    flex-direction: row;
  }
  
  .faq-left {
    width: 50%;
    margin-bottom: 0;
  }
  
  .faq-right {
    width: 50%;
    text-align: left;
    padding-left: 30px;
  }
  
  .social-icons {
    justify-content: flex-start;
  }
}

@media (min-width: 992px) {
  .text-content h1 {
    font-size: 3.5rem;
  }
  
  .left-section h1 {
    font-size: 2.5rem;
  }
  
  .faq-right h3 {
    font-size: 2.5rem;
  }
}
</style>

</head>

<body>
 <!-- Top Navigation Bar -->
 <header class="main-header">
    <div class="header-container">
        <!-- Hamburger menu button (visible on mobile) -->
        <button class="menu-button" id="menuButton">
            <span class="menu-button-text">Menu</span>
            <div class="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </button>

        <!-- Regular navigation menu (visible on desktop) -->
        <ul class="nav-menu">
            <li class="nav-link"><a href="index.html">Home</a></li>
            <li class="nav-link"><a href="pri.html">prayer</a></li>
            <li class="nav-link"><a href="chart.html">chart</a></li>
            <li class="nav-link"><a href="quiz.html">Quiz</a></li>
        </ul>

        <div class="logo-container">
            <img src="Screenshot 2025-04-04 at 08,42,24-Picsart-BackgroundRemover.png"
                alt="Fun Learning Videos for Kids" class="site-logo">
        </div>

        <!-- Dropdown menu (shown when hamburger is clicked) -->
        <div class="dropdown-menu" id="dropdownMenu">
            <div class="nav-link"><a href="index.html">Home</a></div>
            <div class="nav-link"><a href="quiz.html">Quiz</a></div>
            <div class="nav-link"><a href="pri.html">Prayer</a></div>
            <div class="nav-link"><a href="chart.html">chart</a></div>
        </div>
    </div>
</header>

    <div class="search-container">
        <input type="text" id="searchInput" class="search-input" placeholder="Search for fun videos! üîç"
            aria-label="Search videos">
    </div>

    <nav class="category-nav">
        <button class="category-btn surah" data-category="Surah">
            <span class="emoji">üïå</span>
            <span style="color: dimgray; position: relative; bottom: 10px;" class="text">Surah</span>
        </button>
        <button class="category-btn prayer" data-category="prayer">
            <span class="emoji">ü§≤</span>
            <span style="color: dimgray; position: relative; bottom: 10px;" class="text">Prayer</span>
        </button>
        <button class="category-btn cartoon" data-category="cartoon">
            <span class="emoji">üé®</span>
            <span style="color: dimgray; position: relative; bottom: 10px;" class="text">Cartoon</span>
        </button>
        <button class="category-btn songs" data-category="songs">
            <span class="emoji">üéµ</span>
            <span style="color: dimgray; position: relative; bottom: 10px;" class="text">Songs</span>
        </button>
        <button class="category-btn learning" data-category="learning">
            <span class="emoji">üìö</span>
            <span style="color: dimgray; position: relative; bottom: 10px;" class="text">Learning</span>
        </button>
        <button class="category-btn quiz" onclick="window.location.href='quiz.html'">
            <span class="emoji">üéØ</span>
            <span style="color: dimgray; position: relative; bottom: 10px;" class="text">Quiz</span>
        </button>
    </nav>

    <main>
        <div id="gameGrid" class="video-grid">
            <!-- Video cards will be added here -->
        </div>
    </main>

    <div class="video-modal" id="videoModal">
        <div class="modal-content">
            <button class="close-modal">
                <span class="emoji">‚ùå</span>
            </button>
            <div class="video-container">
                <iframe id="youtubeVideo" allowfullscreen
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture">
                </iframe>
            </div>
        </div>
    </div>
    <br><br>
    <footer>
        <div style="height: 40px; background-color: rgb(108, 108, 108); display: flex; align-items: center; justify-content: center;">
            <p style="font-family: 'Times New Roman', Times, serif; color: beige; margin: 0;">
                Design By Mudasar Nezami
            </p>
        </div>
    </footer>
    
    <script src="script.js"></script>

    <!-- Menu Toggle Script -->
    <script>
          document.addEventListener('DOMContentLoaded', () => {
    const menuButton = document.querySelector('.menu-button');
    const dropdownMenu = document.querySelector('.dropdown-menu');
    const hamburger = document.querySelector('.hamburger');

    menuButton.addEventListener('click', () => {
        document.body.classList.toggle('menu-open');
        dropdownMenu.style.display =
            dropdownMenu.style.display === 'flex' ? 'none' : 'flex';
    });

    // Optional: close menu if user clicks outside
    document.addEventListener('click', (e) => {
        if (!menuButton.contains(e.target) && !dropdownMenu.contains(e.target)) {
            document.body.classList.remove('menu-open');
            dropdownMenu.style.display = 'none';
        }
    });
            // Close menu when window is resized to desktop size
            window.addEventListener('resize', function() {
                if (window.innerWidth > 768) {
                    dropdownMenu.style.display = 'none';
                    menuButton.classList.remove('menu-open');
                }
            });
        });

     
        // Initialize when the document is fully loaded
document.addEventListener('DOMContentLoaded', () => {
    initializeLetterCards();
    initializeNumberGame();
    initializeDrawingPad();
    initializeMusicPlayer();
    initializeGradeSelector();
    initializeGameCards();
    initializeWorldScene();
    initializeFooterControls();
    init();
});

// Letter Cards Functionality
function initializeLetterCards() {
    const cards = document.querySelectorAll('.card');
    cards.forEach(card => {
        card.addEventListener('click', () => {
            const letter = card.getAttribute('data-letter');
            playLetterSound(letter);
        });
    });
}

function playLetterSound(letter) {
    // In a real implementation, you would have actual audio files
    const audio = new Audio(`sounds/${letter.toLowerCase()}.mp3`);
    audio.play().catch(error => {
        console.log('Audio play failed:', error);
    });
}

// Number Game Functionality
function initializeNumberGame() {
    const numberDisplay = document.querySelector('.number-display');
    if (!numberDisplay) {
        console.warn('Number display element not found.');
        return;
    }

    const numberObjects = document.querySelector('.number-objects');
    let currentNumber = 0;

    numberDisplay.addEventListener('click', () => {
        currentNumber = (currentNumber % 10) + 1;
        numberDisplay.textContent = currentNumber;
        updateNumberObjects(currentNumber);
    });
}

function updateNumberObjects(count) {
    const objectsContainer = document.querySelector('.number-objects');
    objectsContainer.innerHTML = '';

    for (let i = 0; i < count; i++) {
        const object = document.createElement('div');
        object.style.width = '50px';
        object.style.height = '50px';
        object.style.backgroundColor = getRandomColor();
        object.style.borderRadius = '50%';
        object.style.animation = 'bounce 1s infinite';
        objectsContainer.appendChild(object);
    }
}

function getRandomColor() {
    const colors = ['#FF6B6B', '#4ECDC4', '#FFE66D', '#95E1D3', '#FF8B94'];
    return colors[Math.floor(Math.random() * colors.length)];
}

// Drawing Pad Functionality
function initializeDrawingPad() {
    const canvas = document.getElementById('drawingCanvas');
    const ctx = canvas.getContext('2d');
    let isDrawing = false;
    let lastX = 0;
    let lastY = 0;

    // Set canvas size
    function resizeCanvas() {
        canvas.width = canvas.offsetWidth;
        canvas.height = canvas.offsetHeight;
    }
    resizeCanvas();
    window.addEventListener('resize', resizeCanvas);

    // Drawing event listeners
    canvas.addEventListener('mousedown', startDrawing);
    canvas.addEventListener('mousemove', draw);
    canvas.addEventListener('mouseup', stopDrawing);
    canvas.addEventListener('mouseout', stopDrawing);
    canvas.addEventListener('touchstart', handleTouch);
    canvas.addEventListener('touchmove', handleTouch);
    canvas.addEventListener('touchend', stopDrawing);

    function startDrawing(e) {
        isDrawing = true;
        [lastX, lastY] = [e.offsetX, e.offsetY];
    }

    function draw(e) {
        if (!isDrawing) return;

        ctx.beginPath();
        ctx.moveTo(lastX, lastY);
        ctx.lineTo(e.offsetX, e.offsetY);
        ctx.strokeStyle = getRandomColor();
        ctx.lineWidth = 5;
        ctx.lineCap = 'round';
        ctx.stroke();

        [lastX, lastY] = [e.offsetX, e.offsetY];
    }

    function stopDrawing() {
        isDrawing = false;
    }

    function handleTouch(e) {
        e.preventDefault();
        const touch = e.touches[0];
        const mouseEvent = new MouseEvent(e.type === 'touchstart' ? 'mousedown' : 'mousemove', {
            clientX: touch.clientX,
            clientY: touch.clientY
        });
        canvas.dispatchEvent(mouseEvent);
    }
}

// Music Player Functionality
function initializeMusicPlayer() {
    const playButton = document.getElementById('playButton');
    let isPlaying = false;
    let audio = null;

    playButton.addEventListener('click', () => {
        if (!audio) {
            audio = new Audio('sounds/abc-song.mp3');
            audio.addEventListener('ended', () => {
                isPlaying = false;
                playButton.textContent = '‚ñ∂Ô∏è';
            });
        }

        if (isPlaying) {
            audio.pause();
            playButton.textContent = '‚ñ∂Ô∏è';
        } else {
            audio.play().catch(error => {
                console.log('Audio play failed:', error);
            });
            playButton.textContent = '‚è∏Ô∏è';
        }
        isPlaying = !isPlaying;
    });
}

// Add smooth scrolling for navigation
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        e.preventDefault();
        document.querySelector(this.getAttribute('href')).scrollIntoView({
            behavior: 'smooth'
        });
    });
});

function initializeGradeSelector() {
    const gradeButtons = document.querySelectorAll('.grade-btn');

    gradeButtons.forEach(button => {
        button.addEventListener('click', () => {
            // Remove active class from all buttons
            gradeButtons.forEach(btn => btn.classList.remove('active'));
            // Add active class to clicked button
            button.classList.add('active');
            // Add transition effect to games
            updateGamesForGrade(button.textContent);
        });
    });
}

function updateGamesForGrade(grade) {
    const gameCards = document.querySelectorAll('.game-card');

    gameCards.forEach(card => {
        const gradeRange = card.querySelector('.grade-tag').textContent;
        if (gradeRange.includes(grade)) {
            card.style.opacity = '1';
            card.style.transform = 'scale(1)';
        } else {
            card.style.opacity = '0.5';
            card.style.transform = 'scale(0.95)';
        }
    });
}

function initializeGameCards() {
    const gameCards = document.querySelectorAll('.game-card');
    const videoModal = document.getElementById('videoModal');
    const youtubeVideo = document.getElementById('youtubeVideo');
    const closeModal = document.querySelector('.close-modal');

    gameCards.forEach(card => {
        card.addEventListener('mouseenter', () => {
            // Add hover sound
            playSound('hover');
            // Add particle effect
            createParticles(card);
        });

        card.addEventListener('click', () => {
            // Add click sound
            playSound('click');
            // Get video ID and play
            const videoId = card.getAttribute('data-video-id');
            openVideoModal(videoId);
        });
    });

    // Close modal when clicking the close button
    closeModal.addEventListener('click', () => {
        closeVideoModal();
    });

    // Close modal when clicking outside the video
    videoModal.addEventListener('click', (e) => {
        if (e.target === videoModal) {
            closeVideoModal();
        }
    });

    // Close modal with escape key
    document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') {
            closeVideoModal();
        }
    });
}

function createParticles(element) {
    const colors = ['#FF9F1C', '#2EC4B6', '#E71D36', '#FFE66D'];

    for (let i = 0; i < 5; i++) {
        const particle = document.createElement('div');
        particle.className = 'particle';
        particle.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
        particle.style.left = Math.random() * 100 + '%';
        particle.style.animationDuration = (Math.random() * 1 + 0.5) + 's';
        element.appendChild(particle);

        // Remove particle after animation
        setTimeout(() => particle.remove(), 1000);
    }
}

// Open Video Modal
function openVideoModal(videoId) {
    const iframe = document.getElementById('youtubeVideo');
    const videoModal = document.querySelector('.video-modal');

    if (iframe && videoModal) {
        iframe.src = `https://www.youtube.com/embed/${videoId}?autoplay=1&rel=0`;
        videoModal.classList.add('active');
        document.body.style.overflow = 'hidden';
    }
}

// Close Video Modal
function closeVideoModal() {
    const iframe = document.getElementById('youtubeVideo');
    const videoModal = document.querySelector('.video-modal');

    if (iframe && videoModal) {
        iframe.src = '';
        videoModal.classList.remove('active');
        document.body.style.overflow = 'auto';
    }
}

function initializeWorldScene() {
    const scene = document.querySelector('.world-scene');
    const characters = document.querySelectorAll('.character');

    // Add parallax effect
    document.addEventListener('mousemove', (e) => {
        const mouseX = e.clientX / window.innerWidth;
        const mouseY = e.clientY / window.innerHeight;

        characters.forEach(char => {
            const speed = char.classList.contains('monster') ? 20 : 10;
            char.style.transform = `translate(${mouseX * speed}px, ${mouseY * speed}px)`;
        });
    });

    // Add candy animation
    const candies = document.querySelectorAll('[class^="candy-"]');
    candies.forEach(candy => {
        candy.style.animationDelay = Math.random() * 2 + 's';
    });
}

function initializeFooterControls() {
    const soundBtn = document.querySelector('.sound-btn');
    const fullscreenBtn = document.querySelector('.fullscreen-btn');
    const helpBtn = document.querySelector('.help-btn');

    let isSoundOn = true;

    soundBtn.addEventListener('click', () => {
        isSoundOn = !isSoundOn;
        soundBtn.textContent = isSoundOn ? 'Sound On' : 'Sound Off';
        // Update sound state
        updateSoundState(isSoundOn);
    });

    fullscreenBtn.addEventListener('click', () => {
        if (!document.fullscreenElement) {
            document.documentElement.requestFullscreen();
            fullscreenBtn.textContent = 'Exit Fullscreen';
        } else {
            document.exitFullscreen();
            fullscreenBtn.textContent = 'Fullscreen';
        }
    });

    helpBtn.addEventListener('click', showHelp);
}

function playSound(type) {
    const sounds = {
        hover: 'pop',
        click: 'launch',
        success: 'success'
    };

    const audio = new Audio(`sounds/${sounds[type]}.mp3`);
    audio.play().catch(error => {
        console.log('Audio play failed:', error);
    });
}

function launchGame(gameCard) {
    // Add launch animation
    gameCard.style.transform = 'scale(1.1) translateY(-20px)';
    gameCard.style.opacity = '0';

    // Reset card after animation
    setTimeout(() => {
        gameCard.style.transform = 'scale(1)';
        gameCard.style.opacity = '1';
    }, 500);
}

function showHelp() {
    // Create and show help modal
    const modal = document.createElement('div');
    modal.className = 'help-modal';
    modal.innerHTML = `
        <div class="modal-content">
            <h2>How to Play</h2>
            <p>Click on any game card to start playing!</p>
            <p>Use the grade selector at the top to find games for your level.</p>
            <button class="close-btn">Got it!</button>
        </div>
    `;

    document.body.appendChild(modal);

    modal.querySelector('.close-btn').addEventListener('click', () => {
        modal.remove();
    });
}

// DOM Elements
const gameGrid = document.getElementById('gameGrid');
const searchInput = document.getElementById('searchInput');
const videoModal = document.querySelector('.video-modal');
const videoContainer = document.querySelector('.video-container');
const closeModalBtn = document.querySelector('.close-modal');
const categoryButtons = document.querySelectorAll('.category-btn');

// YouTube API Configuration
const YOUTUBE_API_KEY = 'YOUR_API_KEY'; // Replace with your API key
const YOUTUBE_SEARCH_URL = 'https://www.googleapis.com/youtube/v3/search';

// Extended Predefined Videos (100+ educational videos)
const PREDEFINED_VIDEOS = {
    'Surah': [
        { id: '9i88jDNi1Gw', title: 'Surah Al-Fatiha for Kids' },
        { id: 'PZ0deYDT0Eo', title: 'Surah Al-Fatiha for Kids' },
        { id: '7iuQI1Izh5o', title: 'Surah Al-Ikhlas for Kids' },
        { id: 'QaXhLRGovVg', title: 'Surah Al-Ikhlas for Kids' },
        { id: 'v3s4fISUnF0', title: 'Al-Kawthar with ' },
        { id: 'RMyk2LhFYgE', title: 'Al-Kawthar with ' },
        { id: 'tmsEu0-8UtM', title: ' Surat An-Nasr' },
        { id: 'MPswZY4mRS4', title: ' Surat An-Nasr' },
        { id: '7Gg5uDJU_7U', title: ' Surat Al-Kafiroon' },
        { id: 'tDCb3OV8zQk', title: ' Surat Al-Kafiroon' },
        { id: 'ZvBO3mqjL4Q', title: ' Surat Al-Falaq' },
        { id: '9xcs-0ZoF0I', title: ' Surat Al-Falaq' },
        { id: 'cBGEn_L_fxs', title: ' 4 Quls' },
        { id: '9uhhB74bZX0', title: ' 4 Quls' },
        { id: 'z2O8soNi5lY', title: ' doored' }




    ],
    'prayer': [
        { id: 'GZdmj9aoJQ8', title: 'How to Pray Step by Step' },
        { id: '9Ly9FD3TxVA', title: 'Prayer Guide for Kids' },
        { id: 'VKnRJLy8Rd0', title: 'Learn Salah for Children' },
        { id: '7FVCVAQRWbk', title: 'Prayer Made Easy' },
        { id: 'ygKwEMilawk', title: 'How to Make Wudu' },
        { id: 'VOI6TZxEuIw', title: 'Wudu Guide for Kids' },
        { id: 'jZwOvVJmH8o', title: 'my 1st Pray' },
        { id: 'gXhxa7QjEEM', title: 'my 1st Pray' },
        { id: 'v2gx24YqI68', title: 'my 1st Pray' },
        { id: 'tVJ1zNxe47E', title: 'my 1st Pray' },
        { id: '8LZseQA9FEY', title: 'my 1st Pray' },
        { id: '2PQGtbwm5s0', title: 'my 1st Pray' }


    ],
    'cartoon': [
        { id: 'mQwgJ2-9lVI', title: 'cartoon1' },
        { id: 'Dq-s8BbKgGA', title: 'cartoon2' },
        { id: 'kbUMxVnSOZQ', title: 'cartoon3' },
        { id: 'geQLsxeVSMc', title: 'cartoon4' },
        { id: 'vlRnRYESFTo', title: 'cartoon5' },
        { id: 'u4TU0Sm9uV0', title: 'cartoon6' },
        { id: 'PFnbFajseII', title: 'cartoon7' },
        { id: 'vlRnRYESFTo', title: 'cartoon8' },
        { id: 'efTohOu6JBQ', title: 'cartoon9' },
        { id: 'aQkQr8hi_ks', title: 'cartoon10' },
        { id: 'yOHgYIZtUFA', title: 'cartoon11' },
        { id: 'padnjeMvWwY', title: 'cartoon12' },
        { id: 'Fyfr0Vk1czs', title: 'cartoon13' },
        { id: 'ulQwO2ddO2I', title: 'cartoon14' },
        { id: 'WuRg1E_Vemg', title: 'cartoon15' }


    ],


    'songs': [
        { id: 'vfNI24pIEBY', title: '1 nate' },
        { id: '1KviEqtohqQ', title: '2 nate' },
        { id: '0uf-CfyrImE', title: '3 nate' },
        { id: 'lXzyM36ZO9E', title: '4 nate' },
        { id: '7mjO1hfo2WU', title: '5 nate' },
        { id: 'u4TU0Sm9uV0', title: '6 nate' },
        { id: 'gWmmEHnw-18', title: '7 nate' },
        { id: '_TKk9wQ1eqI', title: '8 nate' },
        { id: 'h0Kfa4kSBh0', title: '99 names of Allah' },
        { id: '4bi3ZyB9itY', title: '99 names of Allah' },
        { id: 'RPL7HNerqZY', title: 'song' },
        { id: '0qkdJAJixHk', title: 'song' },
        { id: 'JZSCvZWkHCs', title: 'song' },
        { id: 'NIP7Ap3a9XE', title: 'song about wudu' },
        { id: '_YE6AToEuqQ', title: 'song' },
        { id: 'MbS4EDA0KQQ', title: 'song' } ,
        { id: 'JpYUfuM-xf8', title: 'song' },
        { id: '3nKwAZjWaKA', title: 'song' }
        




    ],



    'learning': [
        { id: '1q1dz0HHego', title: 'bana islam' },
        { id: 'DlVqRyzyzys', title: 'kabe' },
        { id: 'zpo4SgahEww', title: 'about islam' },
        { id: '8v2gBWNOoHo', title: 'other relegns' },
        { id: 'H-Mh-uYYpwA', title: 'Learn Islamic Terms' },
        { id: 'ssL3W_5UPLk', title: 'Five Pillars of Islam' },
        { id: 'TU3gsCzkMB0', title: 'Muslim Heroes in History' },
        { id: 'NynzfIiWstI', title: 'Islamic Months Explained' },
        { id: 'cf9qU9B-7lg', title: 'Halal and Haram for Kids' },
        { id: 'ke2zyzz-CMw', title: 'Mosque Tour for Children' },
        { id: 'zm9tXD9bwsA', title: 'Hajj Explained for Kids' },
        { id: 'HPPZfthuIFM', title: 'Zakat for Children' },
        { id: 'SEC5NWAobtE', title: 'arabe alfabet' },
        { id: 'MNk7PaQhkHA', title: 'learning' },
        { id: '2cagMg1imhk', title: 'learning' },
        { id: 'Cxx4RrwEcVs', title: 'arabe alfabet' },
        { id: '2Au1BxQLPVE', title: 'arabe alfabet' },
        { id: 'BjsIcG19x7o', title: 'arabe alfabet' }
    ]
};

// Additional educational video categories
const EXTRA_VIDEOS = {

};

// Initialize the page
async function init() {
    const gameGrid = document.getElementById('gameGrid');
    if (!gameGrid) {
        console.error('Game grid element not found');
        return;
    }

    try {
        showLoading();

        // Get all predefined videos
        const allVideos = [
            ...Object.values(PREDEFINED_VIDEOS).flat()
        ];

        // Shuffle the videos for variety
        const shuffledVideos = shuffleArray(allVideos);

        // Display the videos
        displayVideos(shuffledVideos);

    } catch (error) {
        console.error('Failed to initialize:', error);
        showError('Unable to load videos. Please refresh the page.');
    }
}

// Show Loading State with animation
function showLoading() {
    const gameGrid = document.getElementById('gameGrid');
    if (gameGrid) {
        gameGrid.innerHTML = `
            <div class="loading">
                <div class="loading-spinner"></div>
                <p>Loading fun videos for you...</p>
                <div class="loading-progress">Please wait a moment...</div>
            </div>
        `;
    }
}

// Helper function to shuffle array
function shuffleArray(array) {
    const newArray = [...array];
    for (let i = newArray.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
    }
    return newArray;
}

// Setup Event Listeners
function setupEventListeners() {
    // Search input listener
    const searchInput = document.getElementById('searchInput');
    if (searchInput) {
        searchInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                handleSearch();
            }
        });
    }

    // Category button listeners
    const categoryButtons = document.querySelectorAll('.category-btn');
    categoryButtons.forEach(button => {
        button.addEventListener('click', () => {
            const category = button.getAttribute('data-category');
            if (category) {
                showCategoryVideos(category);
            }
        });
    });

    // Close modal listeners
    const closeModalBtn = document.querySelector('.close-modal');
    const videoModal = document.querySelector('.video-modal');

    if (closeModalBtn && videoModal) {
        closeModalBtn.addEventListener('click', closeVideoModal);
        videoModal.addEventListener('click', (e) => {
            if (e.target === videoModal) closeVideoModal();
        });
    }

    // Escape key listener for modal
    document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') closeVideoModal();
    });
}

// Show category-specific videos
function showCategoryVideos(category) {
    const videos = PREDEFINED_VIDEOS[category] || [];
    if (videos.length > 0) {
        displayVideos(videos);
    } else {
        showError('No videos found in this category.');
    }
}

// Handle Search
async function handleSearch() {
    const searchInput = document.getElementById('searchInput');
    const query = searchInput ? searchInput.value.trim() : '';

    if (!query) {
        init(); // Reset to all videos if search is empty
        return;
    }

    showLoading();
    try {
        // Search in predefined videos
        const allPredefinedVideos = Object.values(PREDEFINED_VIDEOS).flat();

        const matchingVideos = allPredefinedVideos.filter(video =>
            video.title.toLowerCase().includes(query.toLowerCase())
        );

        displayVideos(matchingVideos);
    } catch (error) {
        console.error('Search failed:', error);
        showError('Search is temporarily unavailable. Please try again later.');
    }
}

// Show message to user
function showMessage(message) {
    const messageElement = document.createElement('div');
    messageElement.className = 'message-banner';
    messageElement.textContent = message;
    gameGrid.insertAdjacentElement('beforebegin', messageElement);
    setTimeout(() => messageElement.remove(), 5000);
}

// Navigate to Video Page
function navigateToVideo(videoId, title, description) {
    const encodedTitle = encodeURIComponent(title);
    const encodedDescription = encodeURIComponent(description);
    window.location.href = `video.html?v=${videoId}&title=${encodedTitle}&desc=${encodedDescription}`;
}

// Show Error Message
function showError(message) {
    const errorHtml = `
        <div class="error-message">
            <div class="error-icon">‚ùå</div>
            <p>${message}</p>
            <button class="retry-button" onclick="init()">Try Again</button>
        </div>
    `;
    gameGrid.innerHTML = errorHtml;
}

// Load additional videos in the background
async function loadAdditionalVideos() {
    try {
        const additionalVideos = await Promise.all(
            defaultSearchTerms.slice(0, 10).map(term => searchYouTube(term, 5))
        );

        const flattenedVideos = additionalVideos.flat().filter(Boolean);
        const currentVideos = Array.from(document.querySelectorAll('.game-card'))
            .map(card => card.getAttribute('data-video-id'));

        // Only add videos that aren't already displayed
        const newVideos = flattenedVideos.filter(video => !currentVideos.includes(video.id));

        if (newVideos.length > 0) {
            appendVideos(newVideos);
        }
    } catch (error) {
        console.error('Failed to load additional videos:', error);
        // Failure to load additional videos is not critical as we already have predefined ones
    }
}

// Enhanced search function
async function searchYouTube(query, maxResults = 50) {
    try {
        const params = new URLSearchParams({
            part: 'snippet',
            q: query + ' for kids',
            key: YOUTUBE_API_KEY,
            maxResults: Math.min(maxResults, 50),
            type: 'video',
            videoCategoryId: '27',
            safeSearch: 'strict',
            relevanceLanguage: 'en',
            videoEmbeddable: 'true',
            order: 'relevance'  // Get most relevant results
        });

        const response = await fetch(`${YOUTUBE_SEARCH_URL}?${params}`);

        if (!response.ok) {
            throw new Error('Failed to fetch videos');
        }

        const data = await response.json();

        if (!data.items || data.items.length === 0) {
            return [];
        }

        return data.items.map(item => ({
            id: item.id.videoId,
            title: cleanTitle(item.snippet.title),
            description: item.snippet.description,
            thumbnail: item.snippet.thumbnails.high?.url || item.snippet.thumbnails.default?.url,
            publishedAt: new Date(item.snippet.publishedAt).toLocaleDateString()
        }));
    } catch (error) {
        console.error('Search failed:', error);
        return [];
    }
}

// Helper function to clean video titles
function cleanTitle(title) {
    return title
        .replace(/&amp;/g, '&')
        .replace(/&quot;/g, '"')
        .replace(/&#39;/g, "'")
        .replace(/&lt;/g, '<')
        .replace(/&gt;/g, '>')
        .trim();
}

// Display Videos with lazy loading
function displayVideos(videos) {
    if (videos.length === 0) {
        gameGrid.innerHTML = `
            <div class="no-results">
                <p>No videos found. Try a different search!</p>
            </div>
        `;
        return;
    }

    // Create a document fragment for better performance
    const fragment = document.createDocumentFragment();

    videos.forEach(video => {
        const card = createVideoCard(video);
        fragment.appendChild(card);
    });

    gameGrid.innerHTML = '';
    gameGrid.appendChild(fragment);

    // Add infinite scroll
    if (videos.length >= 50) {
        observeLastCard();
    }
}

// Create Video Card
function createVideoCard(video) {
    const card = document.createElement('div');
    card.className = 'game-card';
    card.setAttribute('data-video-id', video.id);

    card.innerHTML = `
        <div class="game-thumbnail">
            <img src="${video.thumbnail || `https://img.youtube.com/vi/${video.id}/maxresdefault.jpg`}" 
                 alt="${video.title}"
                 onerror="this.src='https://img.youtube.com/vi/${video.id}/hqdefault.jpg'"
                 loading="lazy">
            <div class="play-overlay">‚ñ∂Ô∏è</div>
        </div>
        <div class="game-info">
            <h3>${video.title}</h3>
            <p class="video-description">${truncateText(video.description, 100)}</p>
        </div>
    `;

    // Add click event to play video
    card.addEventListener('click', () => {
        openVideoModal(video.id);
    });

    // Add hover effects
    card.addEventListener('mouseenter', () => {
        card.style.transform = 'translateY(-10px) scale(1.02)';
    });

    card.addEventListener('mouseleave', () => {
        card.style.transform = 'translateY(0) scale(1)';
    });

    return card;
}

// Function to observe the last card for infinite scroll
function observeLastCard() {
    const options = {
        root: null,
        rootMargin: '0px',
        threshold: 0.1
    };

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                loadMoreVideos();
            }
        });
    }, options);

    const lastCard = document.querySelector('.game-card:last-child');
    if (lastCard) {
        observer.observe(lastCard);
    }
}

// Function to display videos with error handling
function displayVideos(videos) {
    if (!videos || videos.length === 0) {
        gameGrid.innerHTML = `
            <div class="no-results">
                <p>No videos found. Try a different search!</p>
            </div>
        `;
        return;
    }

    try {
        // Create a document fragment for better performance
        const fragment = document.createDocumentFragment();

        videos.forEach(video => {
            const card = createVideoCard(video);
            if (card) {
                fragment.appendChild(card);
            }
        });

        // Clear existing content and append new cards
        const gameGrid = document.getElementById('gameGrid');
        if (gameGrid) {
            gameGrid.innerHTML = '';
            gameGrid.appendChild(fragment);
        }

        // Add infinite scroll if there are enough videos
        if (videos.length >= 12) {
            observeLastCard();
        }
    } catch (error) {
        console.error('Error displaying videos:', error);
        showError('Unable to display videos. Please try again.');
    }
}

// Function to create video card with error handling
function createVideoCard(video) {
    if (!video || !video.id || !video.title) {
        console.error('Invalid video data:', video);
        return null;
    }

    try {
        const card = document.createElement('div');
        card.className = 'game-card';
        card.setAttribute('data-video-id', video.id);

        card.innerHTML = `
            <div class="game-thumbnail">
                <img src="https://img.youtube.com/vi/${video.id}/maxresdefault.jpg" 
                     alt="${video.title}"
                     onerror="this.src='https://img.youtube.com/vi/${video.id}/hqdefault.jpg'"
                     loading="lazy">
                <div class="play-overlay">‚ñ∂Ô∏è</div>
            </div>
            <div class="game-info">
                <h3>${video.title}</h3>
                ${video.description ? `<p class="video-description">${truncateText(video.description, 100)}</p>` : ''}
            </div>
        `;

        // Add click event to play video
        card.addEventListener('click', () => {
            openVideoModal(video.id);
        });

        // Add hover effects
        card.addEventListener('mouseenter', () => {
            card.style.transform = 'translateY(-10px) scale(1.02)';
        });

        card.addEventListener('mouseleave', () => {
            card.style.transform = 'translateY(0) scale(1)';
        });

        return card;
    } catch (error) {
        console.error('Error creating video card:', error);
        return null;
    }
}

// Function to load more videos (for infinite scroll)
function loadMoreVideos() {
    // Implementation for loading more videos
    // This can be customized based on your needs
    console.log('Loading more videos...');
}

// Helper function to truncate text
function truncateText(text, maxLength) {
    if (!text) return '';
    return text.length <= maxLength ? text : text.substr(0, maxLength) + '...';
}

// Initialize when DOM is loaded
document.addEventListener('DOMContentLoaded', () => {
    try {
        init();
        setupEventListeners();
    } catch (error) {
        console.error('Initialization error:', error);
        showError('Failed to initialize. Please refresh the page.');
    }
});


    </script>
</body>